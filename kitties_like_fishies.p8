pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
--music
	sfx(3)
--sprites
--cat
	c={
		score=0,
		sp=2,
		x=64,
		y=64,
		--speed=1
	}
--dog
	dogs={}
	create_dog()
--fish and fishes
	fishes ={}
	create_fish()
end
--update
function _update()
	if game_over!=true then
		newx=c.x
		newy=c.y
		if (btn(➡️)) newx+=2
		if (btn(⬅️)) newx-=2
		if (btn(⬇️)) newy+=2
		if (btn(⬆️)) newy-=2
		
		if not check_flag(0,newx,newy) then
			c.x=newx
			c.y=newy
		end
	else	sfx(4)	
	end
--game limits on screen
	c.x=mid(0,120,c.x)
	c.y=mid(0,120,c.y)
--collision
	for f in all(fishes) do
		if f.x==c.x and f.y==c.y then
			del(fishes,f)
			sfx(2)
			c.score+=1
			create_fish()
			create_dog()
		end
	end
--print score and time
	if c.score==5 and finish_time==nil then
		finish_time=time()
		game_over=true
	end
end
--draw
function _draw()
	cls()
	map(0,0,0,0,16,16)
	spr(c.sp,c.x,c.y)
	for d in all(dogs) do
		spr(d.sp,d.x,d.y)
	end
	for f in all(fishes) do
		spr(f.sp,f.x,f.y)
	end
--score
	print('score : '..c.score,1,1,7)
	print('time : '..flr(time()),40,1,7)
--finished !
	if game_over==true then
		print('you win !',48,48,8)
		print('it took you'..finish_time..'seconds.')	
	end
end

-->8
function create_fish()
	for i=1,1 do
		local f={
			sp=4,
			x=flr(rnd(16))*8,
			y=flr(rnd(16))*8,	
		}
		add(fishes,f)	
	end
end

function create_dog()
		for i=1,1 do
		local d={
			sp=1,
			x=flr(rnd(16))*8,
			y=flr(rnd(16))*8,	
		}
		add(dogs,d)	
	end
end

function check_flag(flag,x,y)
	local sp=mget(x/8,y/8)
	return fget(sp,flag)
end
__gfx__
0000000044bbbb4456bb6bb600700070bbbb5bbbbb3333bbbbbbbbbbbbb566bbbbbbbbbb77cccc77bbbbbbbbbbb566bbcccccccc65666656ccccccccc444444c
00000000b444444b5bbb555500555550dbb565bbb33bb33b8b8bbbbbb6666656bb7bbbbbccccccccbbbbbbbbb6666656cbcccccccccccccccbccccccc444444c
00700700b404404b5bbb595900595950d6b6d05bb33bb33b888bbbbb6cc56cc6b7a7bbbbcccc7cccbbbbbbbb6cc44cc6cccccbccccccccccccccccccc444444c
00077000b440044b5b5555e50555e555dd6d6dd1b333333bb3bbbbbbccccccccbb7bbbbbccc777ccbbbbbbbbccc44cccccccccccccccccccccccccccc444444c
00077000b44ee44b5555555500055500d6b6dd5bbb3333bbb33bbebeccccccccbbbbb9bbcc57575cbbbbbbbbccc44ccccccccbccccccccccccccccccc444444c
00700700bb8888bb55555b5b00050500dbb565bbbbb44bbbbbbbbeeeccccccccbbbb9a9bc5555555bbbbbbbbccc44ccccccccccccccccbccccccccbcc444444c
00000000bb4444bb555b5b5b00070700bbbb5bbbbbb44bbbbbbbbb3b566cc656bbbbb9bbbb55555bbbbbbbbb56655656cbccccccccccccccccccccccc444444c
00000000bb4bb4bb6b6b6b6b00000000bbbbbbbbbbb44bbbbbbbb33bbb66666bbbbbbbbbbbbbbbbbbbbbbbbbbb66666bcccccccccccccccc5665655656656556
656666566ccccbccccccccc6656666566cccccccccccccc66cccccc6cccccccc6ccccccc66566665ccccccc66ccccbcc6ccccbccccccccc656666656cccccccc
c444444c5ccccccccbccccc56ccccccc5cbcccccccccccc5cccccbc5ccccccbcccccccbc6ccccccc44444445544444445ccccccccccccccccbccccc5cbcccccc
c444444c6cccccccccccccc65ccbcccc6cccccccccccccc6ccccccc6cccccccccccccccc5cbccccc44444446644444446ccccccccbcccccbccccccc6cccccbcc
c444444c5cccccccccccccc56ccccccc5ccccccbcccbccc5ccccccc5cccccccccccccccc6ccccccc44444445544444445cccccccccccccccccccccc5cccccccc
c444444c6cccccccccccbcc66ccccccc6cccccccccccccc6ccccccc6ccccccccccbccccc6ccccccc44444446644444446cccccccccccccccccccbcc6cccccbcc
c444444c6cccccccccccccc65ccccccc6cccccccccccccc6ccccbcc6cccbcccccccccccc5ccccccc44444446644444446cccccccccccccccccccccc6cccccccc
c444444c6cccbcccccccccc66ccccbcc6ccbccccccccccc6ccccccc6cccccccccccccccc6cccccbc44444446644444446cccbcccbcccccbcccccccc6cbcccccc
c444444c5cccccccccccccc55ccccccc5cccccc666566565ccccccc5ccccccc6cccccccc5cccccccccccccc55ccccccc56566656ccccccccccccccc56ccccccc
__gff__
0000000000010001000100000101010000010101010101010101000001010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0a0a0a0a080a0a0a0a0a0a0a0a0a0a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a050a0a0a0a0a0a060a0a0a0a080a0500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05050505050a0a0a0a0a0a060a0a050a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0505050a0a0a0a0a0a0a0a0a0a0a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a060a0a080a0a060a0a0a130d100d0d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0a0a0a0a0a0a0a0a0a0a11170f0e0e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a05190d0d0d0d0d100d0d18120a0a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0a11170e0e0e0e0f0e0e0e150a0a0800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0a11120a0a0a0a0a0a0a0a0a0a050a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0a11120a0a060a0a0a080a0a0a0a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
080a11120a050a0a0a0a0a0a050a0a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0a1b1a0a0a0a0a0a0a0a0a0a0a060a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0a111d0d0d0d0d0d1e0a0a0a080a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0a1c0e0e0e0e0e1f120a0a0a0a0a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0a0a080a0a0a0a1b1a0a060a0a050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
050a0a0a0a0a0a0a11120a0a0a0a050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0014002019030160301b0301b0301e030200302003022030220301e0301e030190301b0301b0301e0301e0301e0301b0301b0301e0301b0301b0301e0301e0301e030200301e030200301e030200301e0301b030
0006000036250352503425033250332502d250262501f2501a25014250102500d2500925005250002501b2001b2001b0001b0001b0001b0001b0001b0001b0001b0001b0001b2001e2001e2001e2001920020200
000100000a5700c5700e57010570105700e5700b57009570245001a500085000650000000260001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0014002019030160301b0301b0301e030200302003022030220301e0301e030190301b0301b0301e0301e0301e0301b0301b0301e0301b0301b0301e0301e0301e030200301e030200301e030200301e0301b030
__music__
03 01020444

